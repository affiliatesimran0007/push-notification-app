<!-- Fixed Push Notification Integration Code for alerts-intuit.com -->
<!-- Place this code just before the closing </body> tag -->
<script>
window.addEventListener('load', function() {
  console.log('[Push Widget] Page loaded, initializing...');
  
  // Push notification configuration
  const pushConfig = {
    appUrl: 'https://99d2-49-36-144-217.ngrok-free.app',
    landingId: 'alerts-intuit-main',
    vapidKey: 'BGv2Vm45eFGslcXFhakD-euIXAnOg6-bdqVWHoSw4gwvjvYYV1zBA_Q7uiNij5yvRqMwmDhpBYYSA1v5Z_GEv_k',
    botCheck: true,
    redirects: {
      allow: 'https://alerts-intuit.com/thank-you',
      block: 'https://alerts-intuit.com/notifications-blocked'
    }
  };
  
  console.log('[Push Widget] Config:', pushConfig);
  
  // Load push widget from your platform
  const script = document.createElement('script');
  script.src = pushConfig.appUrl + '/js/push-widget.js';
  script.async = true;
  
  script.onload = function() {
    console.log('[Push Widget] Script loaded successfully');
    if (window.PushWidget) {
      console.log('[Push Widget] PushWidget found, initializing...');
      try {
        window.PushWidget.init(pushConfig);
        console.log('[Push Widget] Init successful');
      } catch (error) {
        console.error('[Push Widget] Init error:', error);
      }
    } else {
      console.error('[Push Widget] PushWidget not found on window');
    }
  };
  
  script.onerror = function(error) {
    console.error('[Push Widget] Failed to load script:', error);
  };
  
  console.log('[Push Widget] Appending script to document...');
  document.body.appendChild(script);
});
</script>